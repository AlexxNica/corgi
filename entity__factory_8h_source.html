<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>CORGI: entity_factory.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,700" rel="stylesheet">
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="commonprojectlogo">
    <img alt="Logo" src="fpl_logo_small.png"/>
  </td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CORGI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="usergroup0.html"><span>Programmer's&#160;Guide</span></a></li>
      <li class="current"><a href="corgi_api_reference.html"><span>API&#160;reference</span></a></li>
      <li><a href="corgi_readme.html"><span>Readme</span></a></li>
      <li><a href="contributing.html"><span>Contributing</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li class="current"><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('entity__factory_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">entity_factory.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="entity__factory_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2015 Google Inc. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// you may not use this file except in compliance with the License.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//     http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// limitations under the License.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#ifndef CORGI_COMPONENT_LIBRARY_ENTITY_FACTORY_H_</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define CORGI_COMPONENT_LIBRARY_ENTITY_FACTORY_H_</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="entity__manager_8h.html">corgi/entity_manager.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;flatbuffers/flatbuffers.h&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;library_components_generated.h&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">namespace </span>corgi {</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">namespace </span>component_library {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/// @file</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/// @addtogroup corgi_component_library</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/// @{</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/// @class EntityFactory</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/// @brief An EntityFactory builds Entities based on prototypes, using</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/// FlatBuffers to specify the raw data for Entities.</span></div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="classcorgi_1_1component__library_1_1_entity_factory.html">   37</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html">EntityFactory</a> : <span class="keyword">public</span> <a class="code" href="classcorgi_1_1_entity_factory_interface.html">corgi::EntityFactoryInterface</a> {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">  /// @var kDataTypeNone</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">  /// @brief This is equivalent to the `*_NONE` value of the FlatBuffer union</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">  /// enum.</span></div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="classcorgi_1_1component__library_1_1_entity_factory.html#acd2110e3b0d9a87a5acb27486972e42f">   43</a></span>&#160;<span class="comment"></span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#acd2110e3b0d9a87a5acb27486972e42f">kDataTypeNone</a> = 0;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">  /// @var kErrorLoadingEntities</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">  /// @brief The return value for `LoadEntitiesFromFile` and</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">  /// `LoadEntityListFromMemory` if the methods are unable to read the</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">  /// Entity list.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="classcorgi_1_1component__library_1_1_entity_factory.html#a267d2cfde2f603ea1c3f4eade9a1b548">   50</a></span>&#160;<span class="comment"></span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a267d2cfde2f603ea1c3f4eade9a1b548">kErrorLoadingEntities</a> = -1;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">  /// @brief The default constructor for an empty EntityFactory.</span></div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classcorgi_1_1component__library_1_1_entity_factory.html#a1f1d5956448eae85fcd0e822c5211d80">   53</a></span>&#160;<span class="comment"></span>  <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a1f1d5956448eae85fcd0e822c5211d80">EntityFactory</a>()</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      : max_component_id_(corgi::<a class="code" href="group__corgi__entity.html#gad457c99f64f7df58fc6d4a8caeda1d59">kInvalidComponent</a>),</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        debug_entity_creation_(false) {}</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keyword">virtual</span> ~<a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html">EntityFactory</a>() {}</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">  /// @brief Add a file from which you can load Entity prototype definitions.</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">  /// @param[in] entity_library_file A UTF-8 C-string representing the</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">  /// filename of the Entity library file that contains the prototype</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">  /// definitions.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">  /// @return Returns `true` if the file was added successfully. Otherwise it</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">  /// returns `false`.</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a68b2f26a1fc7fec7dbbd1cf2495c88ed">AddEntityLibrary</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* entity_library_file);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">  /// @brief Check if the given pointer points to something that will be kept</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">  /// in memory for the lifetime of the EntityFactory.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">  /// @param[in] pointer A void pointer that should be checked if its data</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">  /// will be kept in memory.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">  /// @return Returns `true` if the given pointer points to something that will</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">  /// be kept in memory for the of the EntityFactory. Otherwise it returns</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">  /// `false`.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a3b34800091488e8298eaa06230fa9377">WillBeKeptInMemory</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* pointer);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">  /// @brief Load Entities from a given Entity list file.</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">  /// @param[in] filename A UTF-8 C-string representing the filename of the</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">  /// Entity list file to load the Entities from.</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">  /// @param[in, out] entity_manager An EntityManager pointer to the</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">  /// EntityManager that should load all the Entities from `filename`.</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">  /// @return Returns the number of Entities that were loaded, or returns</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">  /// `kErrorLoadingEntities` if there was en error.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#af0307ee56d4353425400c9f6cf42a866">LoadEntitiesFromFile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* filename,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                   <a class="code" href="classcorgi_1_1_entity_manager.html">corgi::EntityManager</a>* entity_manager);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">  /// @brief Loads a list of Entities from an in-memory buffer.</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">  /// @note This is a helper method used by `LoadEntitiesFromFile` to do a lot</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">  /// of the work actually loading the Entities.</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">  /// @param[in] raw_entity_list A void pointer to the Entity list.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">  /// @param[in, out] entity_manager An EntityManager pointer to the</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">  /// EntityManager that should load all the Entities from memory.</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">  /// @param[out] entities_loaded An optional parameter to obtain the list of</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">  /// the loaded Entities. Pass in a pointer to a std::vector of EntityRefs to</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">  /// capture this output. Otherwise, pass in `NULL` to ignore this parameter.</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">  /// @return Returns the number of Entities that were loaded, or returns</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">  /// `kErrorLoadingEntities` if there was an error.</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"></span>  <span class="keywordtype">int</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a27a703aa6334a613857bdd9868a5ff39">LoadEntityListFromMemory</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* raw_entity_list,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                               <a class="code" href="classcorgi_1_1_entity_manager.html">corgi::EntityManager</a>* entity_manager,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                               std::vector&lt;corgi::EntityRef&gt;* entities_loaded);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">  /// @brief Override a cached file with data from memory that will persist</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">  /// until exit.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">  /// @param[in] filename A UTF-8 C-string representing the filename of the</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">  /// cached file whose data should be overridden.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">  /// @param[in] new_data A std::unique_ptr that points to a std::string of</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">  /// data to override the cached file with.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a2068cf3610895fffb4c234aa5c245533">OverrideCachedFile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* filename,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                          std::unique_ptr&lt;std::string&gt; new_data);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">  /// @brief Initialize an Entity from an Entity definition.</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">  /// @note This helper method is called by `LoadRawEntityList` for each Entity</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">  /// definition.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">  /// @param[in] data A void pointer to the data to create an Entity from.</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">  /// @param[in,out] entity_manager An EntityManager pointer to the</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">  /// EntityManager that should load the Entity from the `data`.</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">  /// @return Returns an EntityRef to the new Entity that was created.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment"></span>  <a class="code" href="classcorgi_1_1_vector_pool_1_1_vector_pool_reference.html">corgi::EntityRef</a> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a09dfc5f63a1127433bfeda2b0ce1f6d3">CreateEntityFromData</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* data,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                        <a class="code" href="classcorgi_1_1_entity_manager.html">corgi::EntityManager</a>* entity_manager);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">  /// @brief Initialize an entity from a given prototype.</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">  /// @param[in] prototype_name A C-string containing the name of the prototype</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">  /// to initialize the Entity with.</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">  /// @param[in,out] entity_manager An EntityManager pointer to the</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">  /// EntityManager that should create the initialized Entity.</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">  /// @return Returns an EntityRef to the new Entity that was initialized</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">  /// from the prototype.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <a class="code" href="classcorgi_1_1_vector_pool_1_1_vector_pool_reference.html">corgi::EntityRef</a> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#af7bec30be40cc3e65c763d8656a46ab0">CreateEntityFromPrototype</a>(</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* prototype_name, <a class="code" href="classcorgi_1_1_entity_manager.html">corgi::EntityManager</a>* entity_manager);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">  /// @brief When you register each Component with the Entity system, it will</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">  /// get a component ID. This factory needs to know the Component ID assigned</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">  /// for each Component data type (the data_type() in the flatbuffer union).</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">  /// @param[in] component_id The ComponentId of the Component in the Entity</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">  /// system.</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">  /// @param[in] data_type An enum for the data type of the Component definition</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">  /// within the FlatBuffer union.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">  /// @param[in] table_name A C-string of the table name of the FlatBuffer</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">  /// schema table for the Component definition.</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a562250f1a6f40fdfcffa7b3a030f032f">SetComponentType</a>(<a class="code" href="group__corgi__entity.html#ga5f64e19a6613a18291d7e9d44c785293">corgi::ComponentId</a> component_id, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> data_type,</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span>* table_name);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">  /// @brief Get the Component Id for a given data type specifier.</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">  /// @param[in] data_type An int corresponding to the data type specifier.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">  /// @return Returns a ComponentId for the Component with a data type</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">  /// of `data_type`.</span></div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classcorgi_1_1component__library_1_1_entity_factory.html#a232179a2f00f5c447a9d00a66a43eef7">  163</a></span>&#160;<span class="comment"></span>  <a class="code" href="group__corgi__entity.html#ga5f64e19a6613a18291d7e9d44c785293">corgi::ComponentId</a> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a232179a2f00f5c447a9d00a66a43eef7">DataTypeToComponentId</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> data_type) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (data_type &gt;= data_type_to_component_id_.size())</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group__corgi__entity.html#gad457c99f64f7df58fc6d4a8caeda1d59">corgi::kInvalidComponent</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> data_type_to_component_id_[data_type];</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">  /// @brief Get the data type specifier for a Component, given a Component ID.</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">  /// @param[in] component_id The ComponentId of the Component whose data type</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">  /// specifier should be returned.</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">  /// @return Returns an int corresponding to the data type specifier.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="classcorgi_1_1component__library_1_1_entity_factory.html#a74e4ad01d2035d398cd80bca4d327a21">  175</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a74e4ad01d2035d398cd80bca4d327a21">ComponentIdToDataType</a>(<a class="code" href="group__corgi__entity.html#ga5f64e19a6613a18291d7e9d44c785293">corgi::ComponentId</a> component_id) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span> (component_id &gt;= component_id_to_data_type_.size()) <span class="keywordflow">return</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#acd2110e3b0d9a87a5acb27486972e42f">kDataTypeNone</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">return</span> component_id_to_data_type_[component_id];</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">  /// @brief Get the table name for a Component, given a Component ID.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">  /// @param[in] component_id The ComponentId of the Component whose table name</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">  /// should be returned.</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">  /// @return Returns a C-string of the FlatBuffer schema table name for the</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">  /// Component.</span></div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="classcorgi_1_1component__library_1_1_entity_factory.html#a69e688e4ee008923db2ebc6f3aa0d770">  187</a></span>&#160;<span class="comment"></span>  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a69e688e4ee008923db2ebc6f3aa0d770">ComponentIdToTableName</a>(<a class="code" href="group__corgi__entity.html#ga5f64e19a6613a18291d7e9d44c785293">corgi::ComponentId</a> component_id) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">if</span> (component_id &gt;= component_id_to_table_name_.size()) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">return</span> component_id_to_table_name_[component_id].c_str();</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">  /// @brief Serialize an Entity into whatever binary type you are using</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">  /// for them.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">  /// @note Calls `CreateEntityDefinition()`, which you implement, to do the</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">  /// work.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">  /// @param[in] entity The Entity that should be serialized.</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">  /// @param[in] entity_manager The EntityManager responsible for the Entity</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">  /// that should be serialized.</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">  /// @param[out] entity_serialized_output A vector to capture the output of the</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">  /// Entity definition.</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">  /// @return Returns `true` if the Entity definition was successfully created.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">  /// Otherwise, it returns `false`.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a93b760b6a320748b4978a50ac6fb2fbb">SerializeEntity</a>(<a class="code" href="classcorgi_1_1_vector_pool_1_1_vector_pool_reference.html">corgi::EntityRef</a>&amp; entity,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                               <a class="code" href="classcorgi_1_1_entity_manager.html">corgi::EntityManager</a>* entity_manager,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                               std::vector&lt;uint8_t&gt;* entity_serialized_output);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">  /// @brief After you call `SerializeEntity` on a few Entities, you may call</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">  /// this method to put them into a proper list.</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">  /// @note: Calls `CreateEntityList()`, which you implement.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">  /// @param[in] entity_definitions A reference to a vector list of Entity</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">  /// definitions (vector&lt;uint8_t&gt;) that should be put into a proper Entity</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">  /// list.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">  /// @param[out] entity_list_serialized A vector to capture the output of the</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">  /// Entity list.</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">  /// @return Returns `true` if the Entity list was successfully created.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">  /// Otherwise, it returns `false`.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#aaa82cb5a2f06451bbda5bcef24e246d8">SerializeEntityList</a>(</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="keyword">const</span> std::vector&lt;std::vector&lt;uint8_t&gt;&gt;&amp; entity_definitions,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      std::vector&lt;uint8_t&gt;* entity_list_serialized);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">  /// @brief Get the maximum component ID.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">  /// @return Returns the highest component ID.</span></div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="classcorgi_1_1component__library_1_1_entity_factory.html#a7731c0b541623e004e9b74036a929ecc">  230</a></span>&#160;<span class="comment"></span>  <a class="code" href="group__corgi__entity.html#ga5f64e19a6613a18291d7e9d44c785293">corgi::ComponentId</a> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a7731c0b541623e004e9b74036a929ecc">max_component_id</a>() { <span class="keywordflow">return</span> max_component_id_; }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">  /// @brief Check if debug logging is enabled.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">  /// @return Returns `true` if debug logging is enabled. Otherwise, it</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">  /// returns `false`.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="classcorgi_1_1component__library_1_1_entity_factory.html#a76e9dd340e779b10b842664c40b619d8">  236</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a76e9dd340e779b10b842664c40b619d8">debug_entity_creation</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> debug_entity_creation_; }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">  /// @brief Enable debug logging during Entity creation.</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">  /// @param[in] b A bool determining if logging should be enabled.</span></div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classcorgi_1_1component__library_1_1_entity_factory.html#a8b61643491a253a0ffefa078a173e63a">  241</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a8b61643491a253a0ffefa078a173e63a">set_debug_entity_creation</a>(<span class="keywordtype">bool</span> b) { debug_entity_creation_ = b; }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">// Here are the virtual methods you must override to create your own entity</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="comment">// factory. They are mainly the ones concerned with reading and writing your</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">// application&#39;s specific Flatbuffer format.</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">  /// @brief Handles reading an Entity list and extracting the individual</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">  /// Entity data definitions.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">  /// @note You MUST override this function to create your own EntityFactory.</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">  /// @param[in] entity_list A const void pointer to the start of the list</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">  /// of Entities.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">  /// @param[out] entity_defs A vector that captures the output of the</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">  /// extracted entity data definitions.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">  /// @return returns `true` if the list was parsed successfully. Otherwise it</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">  /// returns `false`.</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a8eb49d643a1a8da3787e1b512ab21c9e">ReadEntityList</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* entity_list,</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                              std::vector&lt;const void*&gt;* entity_defs) = 0;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">  /// @brief Handles reading an Entity definition and extracting the individual</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">  /// Component data definitions.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">  /// In your output, you should index `component_defs` by component ID, and</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">  /// any Components not specified by this Entity&#39;s definition should be set to</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">  /// `nullptr`.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">  /// @note You MUST override this function to create your own EntityFactory.</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">  /// @param[in] entity_definition A const void pointer to the Entity definition</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">  /// whose Component data definitions should be extracted.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">  /// @param[out] component_defs A vector that captures the output of</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">  /// the extracted Component data definitions.</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">  /// @return Returns `true` if the `entity_definition` was parsed successfully.</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">  /// Otherwise it returns `false`.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#aa93c7ea5247943de9eaeb1f257695038">ReadEntityDefinition</a>(</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">void</span>* entity_definition,</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      std::vector&lt;const void*&gt;* component_defs) = 0;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">  /// @brief Creates an Entity list that contains a single Entity definition,</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">  /// which contains a single Component definition (a `MetaDef` with `prototype`</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">  /// set to the requested prototype name).</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">  /// @note You MUST override this function to create your own EntityFactory.</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">  /// @param[in] prototype_name A C-string name of the prototype, which is used</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">  /// to set the `prototype` field in the MetaComponent.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">  /// @param[out] request A vector to capture the output of the prototype</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">  /// request.</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">  /// @return Returns `true` if the request was created successfully. Otherwise</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">  /// it returns `false`.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a19be0f80a4ca02d5443a102b213000f1">CreatePrototypeRequest</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* prototype_name,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                                      std::vector&lt;uint8_t&gt;* request) = 0;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">  /// @brief Handles building a single Entity definition flatbuffer from a list</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">  /// of an Entity&#39;s Component definitions.</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">  /// @note You MUST override this function to create your own EntityFactory.</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">  /// @param[in] component_data A const reference to a std::vector that contains</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">  /// the list of the Entity&#39;s Component definitions, which can be indexed by</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">  /// Component ID.</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">  /// @param[out] entity_definition A vector to capture the output of the Entity</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">  /// definition.</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">  /// @return Returns `true` if the Entity definition was successfully created.</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">  /// Otherwise, it returns `false`.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a144a094872bba59f14862df682a4cbff">CreateEntityDefinition</a>(</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keyword">const</span> std::vector&lt;const void*&gt;&amp; component_data,</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      std::vector&lt;uint8_t&gt;* entity_definition) = 0;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">  /// @brief Handles building an Entity list flatbuffer from a collection of</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">  /// individual Entity flatbuffers.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">  /// @note You MUST override this function to create your own EntityFactory.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">  /// @param[in] entity_defs A const reference to a std::vector that contains</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">  /// all the Entity flatbuffers.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">  /// @param[out] entity_list A vector to capture the output of the Entity</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">  /// list.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">  /// @return Returns `true` if the Entity list was successfully created.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">  /// Otherwise, it returns `false`.</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#ac04cb967825d1aaac09002fe81de4a6a">CreateEntityList</a>(<span class="keyword">const</span> std::vector&lt;const void*&gt;&amp; entity_defs,</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                                std::vector&lt;uint8_t&gt;* entity_list) = 0;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="comment">// You MAY override this function, which takes a binary list of entities and</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="comment">// outputs a human-readable text version (aka JSON) of the entity list.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="comment">// Takes a void* and outputs a std::string containing the human readable</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="comment">// entity file.</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="comment">// TODO: Implement this function using reflection.</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">  /// @brief Creates an Entity from the Entity definition, recursively building</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">  /// up from the prototypes.</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">  /// @note: You MAY override this function if you wish to change the way that</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">  /// prototyping works.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">  /// @param[in] def A const void pointer to the Entity definition that will</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">  /// be used to build the prototypes.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">  /// @param[in,out] entity_manager A pointer to the EntityManager that the</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">  /// Entity will be created with.</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">  /// @param[out] entity A reference to the Entity that is being created.</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">  /// @param[in] is_prototype A bool determining if this is a prototype.</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment"></span>  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a9b3cfa2f43067e34e8bed94338ddb93b">LoadEntityData</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* def,</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                              <a class="code" href="classcorgi_1_1_entity_manager.html">corgi::EntityManager</a>* entity_manager,</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                              <a class="code" href="classcorgi_1_1_vector_pool_1_1_vector_pool_reference.html">corgi::EntityRef</a>&amp; entity, <span class="keywordtype">bool</span> is_prototype);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">  /// @brief This factory and its subclasses need to know how to parse the</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">  /// Entity FlatBuffers using reflection.</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">  /// You will need to specify the .bfbs file for your Component data type.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">  /// @param[in] binary_schema_filename A C-string of the filename for the</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">  /// FlatBuffer schema file.</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#abfb65b8df5be2c8f4b586066c8a02dae">SetFlatbufferSchema</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* binary_schema_filename);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">  /// @brief Get the FlatBuffer binary schema that you loaded</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">  /// with `SetFlatbufferSchema()`.</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">  /// @return Returns a const reference to the std::string name</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">  /// of the FlatBuffer schema.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="classcorgi_1_1component__library_1_1_entity_factory.html#a43c86577644732188cb1252b1c5858e0">  368</a></span>&#160;<span class="comment"></span>  <span class="keyword">const</span> std::string&amp; <a class="code" href="classcorgi_1_1component__library_1_1_entity_factory.html#a43c86577644732188cb1252b1c5858e0">flatbuffer_binary_schema_data</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">return</span> flatbuffer_binary_schema_data_;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="comment">// Storage for the Flatbuffer binary schema.</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  std::string flatbuffer_binary_schema_data_;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">// Storage for entity files.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  std::unordered_map&lt;std::string, std::unique_ptr&lt;std::string&gt;&gt; loaded_files_;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">// Storage for old entity files we don&#39;t need any more; these will be cleared</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="comment">// out once there are no entities referencing them.</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  std::vector&lt;std::unique_ptr&lt;std::string&gt;&gt; stale_files_;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="comment">// Index the prototype library&#39;s entity definitions by prototype name.</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  std::unordered_map&lt;std::string, const void*&gt; prototype_data_;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="comment">// Keep a list of previously-built entity definitions that we use to</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">// create an entity by prototype name.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  std::unordered_map&lt;std::string, std::vector&lt;uint8_t&gt;&gt; prototype_requests_;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="comment">// Look up ComponentId from data type, and vice versa.</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  std::vector&lt;corgi::ComponentId&gt; data_type_to_component_id_;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  std::vector&lt;unsigned int&gt; component_id_to_data_type_;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="comment">// Look up the table name from the data type.</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  std::vector&lt;std::string&gt; component_id_to_table_name_;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">// The highest component ID we&#39;ve seen registered.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <a class="code" href="group__corgi__entity.html#ga5f64e19a6613a18291d7e9d44c785293">corgi::ComponentId</a> max_component_id_;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">// Enable debug output for initializing entities.</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordtype">bool</span> debug_entity_creation_;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;};<span class="comment"></span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">/// @}</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}  <span class="comment">// namespace component_library</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;}  <span class="comment">// namespace corgi</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="preprocessor">#endif  // CORGI_COMPONENT_LIBRARY_ENTITY_FACTORY_H_</span></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a3b34800091488e8298eaa06230fa9377"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a3b34800091488e8298eaa06230fa9377">corgi::component_library::EntityFactory::WillBeKeptInMemory</a></div><div class="ttdeci">bool WillBeKeptInMemory(const void *pointer)</div><div class="ttdoc">Check if the given pointer points to something that will be kept in memory for the lifetime of the En...</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_ac04cb967825d1aaac09002fe81de4a6a"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#ac04cb967825d1aaac09002fe81de4a6a">corgi::component_library::EntityFactory::CreateEntityList</a></div><div class="ttdeci">virtual bool CreateEntityList(const std::vector&lt; const void * &gt; &amp;entity_defs, std::vector&lt; uint8_t &gt; *entity_list)=0</div><div class="ttdoc">Handles building an Entity list flatbuffer from a collection of individual Entity flatbuffers...</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a267d2cfde2f603ea1c3f4eade9a1b548"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a267d2cfde2f603ea1c3f4eade9a1b548">corgi::component_library::EntityFactory::kErrorLoadingEntities</a></div><div class="ttdeci">static const int kErrorLoadingEntities</div><div class="ttdoc">The return value for LoadEntitiesFromFile and LoadEntityListFromMemory if the methods are unable to r...</div><div class="ttdef"><b>Definition:</b> entity_factory.h:50</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a562250f1a6f40fdfcffa7b3a030f032f"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a562250f1a6f40fdfcffa7b3a030f032f">corgi::component_library::EntityFactory::SetComponentType</a></div><div class="ttdeci">void SetComponentType(corgi::ComponentId component_id, unsigned int data_type, const char *table_name)</div><div class="ttdoc">When you register each Component with the Entity system, it will get a component ID. This factory needs to know the Component ID assigned for each Component data type (the data_type() in the flatbuffer union). </div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a76e9dd340e779b10b842664c40b619d8"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a76e9dd340e779b10b842664c40b619d8">corgi::component_library::EntityFactory::debug_entity_creation</a></div><div class="ttdeci">bool debug_entity_creation() const </div><div class="ttdoc">Check if debug logging is enabled. </div><div class="ttdef"><b>Definition:</b> entity_factory.h:236</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a69e688e4ee008923db2ebc6f3aa0d770"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a69e688e4ee008923db2ebc6f3aa0d770">corgi::component_library::EntityFactory::ComponentIdToTableName</a></div><div class="ttdeci">const char * ComponentIdToTableName(corgi::ComponentId component_id)</div><div class="ttdoc">Get the table name for a Component, given a Component ID. </div><div class="ttdef"><b>Definition:</b> entity_factory.h:187</div></div>
<div class="ttc" id="classcorgi_1_1_entity_manager_html"><div class="ttname"><a href="classcorgi_1_1_entity_manager.html">corgi::EntityManager</a></div><div class="ttdoc">The EntityManager is the code that manages all Entities and Components in the game. Normally the game will instantiate EntityManager, and then use it to create and control all of its Entities. </div><div class="ttdef"><b>Definition:</b> entity_manager.h:61</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a232179a2f00f5c447a9d00a66a43eef7"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a232179a2f00f5c447a9d00a66a43eef7">corgi::component_library::EntityFactory::DataTypeToComponentId</a></div><div class="ttdeci">corgi::ComponentId DataTypeToComponentId(unsigned int data_type)</div><div class="ttdoc">Get the Component Id for a given data type specifier. </div><div class="ttdef"><b>Definition:</b> entity_factory.h:163</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a8b61643491a253a0ffefa078a173e63a"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a8b61643491a253a0ffefa078a173e63a">corgi::component_library::EntityFactory::set_debug_entity_creation</a></div><div class="ttdeci">void set_debug_entity_creation(bool b)</div><div class="ttdoc">Enable debug logging during Entity creation. </div><div class="ttdef"><b>Definition:</b> entity_factory.h:241</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a09dfc5f63a1127433bfeda2b0ce1f6d3"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a09dfc5f63a1127433bfeda2b0ce1f6d3">corgi::component_library::EntityFactory::CreateEntityFromData</a></div><div class="ttdeci">corgi::EntityRef CreateEntityFromData(const void *data, corgi::EntityManager *entity_manager)</div><div class="ttdoc">Initialize an Entity from an Entity definition. </div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a68b2f26a1fc7fec7dbbd1cf2495c88ed"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a68b2f26a1fc7fec7dbbd1cf2495c88ed">corgi::component_library::EntityFactory::AddEntityLibrary</a></div><div class="ttdeci">bool AddEntityLibrary(const char *entity_library_file)</div><div class="ttdoc">Add a file from which you can load Entity prototype definitions. </div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a144a094872bba59f14862df682a4cbff"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a144a094872bba59f14862df682a4cbff">corgi::component_library::EntityFactory::CreateEntityDefinition</a></div><div class="ttdeci">virtual bool CreateEntityDefinition(const std::vector&lt; const void * &gt; &amp;component_data, std::vector&lt; uint8_t &gt; *entity_definition)=0</div><div class="ttdoc">Handles building a single Entity definition flatbuffer from a list of an Entity&#39;s Component definitio...</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a9b3cfa2f43067e34e8bed94338ddb93b"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a9b3cfa2f43067e34e8bed94338ddb93b">corgi::component_library::EntityFactory::LoadEntityData</a></div><div class="ttdeci">virtual void LoadEntityData(const void *def, corgi::EntityManager *entity_manager, corgi::EntityRef &amp;entity, bool is_prototype)</div><div class="ttdoc">Creates an Entity from the Entity definition, recursively building up from the prototypes. </div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_aaa82cb5a2f06451bbda5bcef24e246d8"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#aaa82cb5a2f06451bbda5bcef24e246d8">corgi::component_library::EntityFactory::SerializeEntityList</a></div><div class="ttdeci">virtual bool SerializeEntityList(const std::vector&lt; std::vector&lt; uint8_t &gt;&gt; &amp;entity_definitions, std::vector&lt; uint8_t &gt; *entity_list_serialized)</div><div class="ttdoc">After you call SerializeEntity on a few Entities, you may call this method to put them into a proper ...</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a1f1d5956448eae85fcd0e822c5211d80"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a1f1d5956448eae85fcd0e822c5211d80">corgi::component_library::EntityFactory::EntityFactory</a></div><div class="ttdeci">EntityFactory()</div><div class="ttdoc">The default constructor for an empty EntityFactory. </div><div class="ttdef"><b>Definition:</b> entity_factory.h:53</div></div>
<div class="ttc" id="group__corgi__entity_html_gad457c99f64f7df58fc6d4a8caeda1d59"><div class="ttname"><a href="group__corgi__entity.html#gad457c99f64f7df58fc6d4a8caeda1d59">corgi::kInvalidComponent</a></div><div class="ttdeci">const ComponentId kInvalidComponent</div><div class="ttdoc">A sentinel value to represent an invalid Component. </div><div class="ttdef"><b>Definition:</b> entity_common.h:60</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a74e4ad01d2035d398cd80bca4d327a21"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a74e4ad01d2035d398cd80bca4d327a21">corgi::component_library::EntityFactory::ComponentIdToDataType</a></div><div class="ttdeci">unsigned int ComponentIdToDataType(corgi::ComponentId component_id)</div><div class="ttdoc">Get the data type specifier for a Component, given a Component ID. </div><div class="ttdef"><b>Definition:</b> entity_factory.h:175</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_abfb65b8df5be2c8f4b586066c8a02dae"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#abfb65b8df5be2c8f4b586066c8a02dae">corgi::component_library::EntityFactory::SetFlatbufferSchema</a></div><div class="ttdeci">void SetFlatbufferSchema(const char *binary_schema_filename)</div><div class="ttdoc">This factory and its subclasses need to know how to parse the Entity FlatBuffers using reflection...</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a8eb49d643a1a8da3787e1b512ab21c9e"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a8eb49d643a1a8da3787e1b512ab21c9e">corgi::component_library::EntityFactory::ReadEntityList</a></div><div class="ttdeci">virtual bool ReadEntityList(const void *entity_list, std::vector&lt; const void * &gt; *entity_defs)=0</div><div class="ttdoc">Handles reading an Entity list and extracting the individual Entity data definitions. </div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_af7bec30be40cc3e65c763d8656a46ab0"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#af7bec30be40cc3e65c763d8656a46ab0">corgi::component_library::EntityFactory::CreateEntityFromPrototype</a></div><div class="ttdeci">virtual corgi::EntityRef CreateEntityFromPrototype(const char *prototype_name, corgi::EntityManager *entity_manager)</div><div class="ttdoc">Initialize an entity from a given prototype. </div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a93b760b6a320748b4978a50ac6fb2fbb"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a93b760b6a320748b4978a50ac6fb2fbb">corgi::component_library::EntityFactory::SerializeEntity</a></div><div class="ttdeci">virtual bool SerializeEntity(corgi::EntityRef &amp;entity, corgi::EntityManager *entity_manager, std::vector&lt; uint8_t &gt; *entity_serialized_output)</div><div class="ttdoc">Serialize an Entity into whatever binary type you are using for them. </div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a2068cf3610895fffb4c234aa5c245533"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a2068cf3610895fffb4c234aa5c245533">corgi::component_library::EntityFactory::OverrideCachedFile</a></div><div class="ttdeci">void OverrideCachedFile(const char *filename, std::unique_ptr&lt; std::string &gt; new_data)</div><div class="ttdoc">Override a cached file with data from memory that will persist until exit. </div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a19be0f80a4ca02d5443a102b213000f1"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a19be0f80a4ca02d5443a102b213000f1">corgi::component_library::EntityFactory::CreatePrototypeRequest</a></div><div class="ttdeci">virtual bool CreatePrototypeRequest(const char *prototype_name, std::vector&lt; uint8_t &gt; *request)=0</div><div class="ttdoc">Creates an Entity list that contains a single Entity definition, which contains a single Component de...</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_af0307ee56d4353425400c9f6cf42a866"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#af0307ee56d4353425400c9f6cf42a866">corgi::component_library::EntityFactory::LoadEntitiesFromFile</a></div><div class="ttdeci">virtual int LoadEntitiesFromFile(const char *filename, corgi::EntityManager *entity_manager)</div><div class="ttdoc">Load Entities from a given Entity list file. </div></div>
<div class="ttc" id="classcorgi_1_1_vector_pool_1_1_vector_pool_reference_html"><div class="ttname"><a href="classcorgi_1_1_vector_pool_1_1_vector_pool_reference.html">corgi::VectorPool::VectorPoolReference</a></div><div class="ttdoc">A reference object for pointing into the vector pool. It acts as a pointer for vector pool elements a...</div><div class="ttdef"><b>Definition:</b> vector_pool.h:71</div></div>
<div class="ttc" id="classcorgi_1_1_entity_factory_interface_html"><div class="ttname"><a href="classcorgi_1_1_entity_factory_interface.html">corgi::EntityFactoryInterface</a></div><div class="ttdoc">An interface for an Entity factory, which creates Entities for a given EntityManager. </div><div class="ttdef"><b>Definition:</b> entity_manager.h:403</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html">corgi::component_library::EntityFactory</a></div><div class="ttdoc">An EntityFactory builds Entities based on prototypes, using FlatBuffers to specify the raw data for E...</div><div class="ttdef"><b>Definition:</b> entity_factory.h:37</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_acd2110e3b0d9a87a5acb27486972e42f"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#acd2110e3b0d9a87a5acb27486972e42f">corgi::component_library::EntityFactory::kDataTypeNone</a></div><div class="ttdeci">static const unsigned int kDataTypeNone</div><div class="ttdoc">This is equivalent to the *_NONE value of the FlatBuffer union enum. </div><div class="ttdef"><b>Definition:</b> entity_factory.h:43</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a27a703aa6334a613857bdd9868a5ff39"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a27a703aa6334a613857bdd9868a5ff39">corgi::component_library::EntityFactory::LoadEntityListFromMemory</a></div><div class="ttdeci">int LoadEntityListFromMemory(const void *raw_entity_list, corgi::EntityManager *entity_manager, std::vector&lt; corgi::EntityRef &gt; *entities_loaded)</div><div class="ttdoc">Loads a list of Entities from an in-memory buffer. </div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a43c86577644732188cb1252b1c5858e0"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a43c86577644732188cb1252b1c5858e0">corgi::component_library::EntityFactory::flatbuffer_binary_schema_data</a></div><div class="ttdeci">const std::string &amp; flatbuffer_binary_schema_data() const </div><div class="ttdoc">Get the FlatBuffer binary schema that you loaded with SetFlatbufferSchema(). </div><div class="ttdef"><b>Definition:</b> entity_factory.h:368</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_aa93c7ea5247943de9eaeb1f257695038"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#aa93c7ea5247943de9eaeb1f257695038">corgi::component_library::EntityFactory::ReadEntityDefinition</a></div><div class="ttdeci">virtual bool ReadEntityDefinition(const void *entity_definition, std::vector&lt; const void * &gt; *component_defs)=0</div><div class="ttdoc">Handles reading an Entity definition and extracting the individual Component data definitions...</div></div>
<div class="ttc" id="classcorgi_1_1component__library_1_1_entity_factory_html_a7731c0b541623e004e9b74036a929ecc"><div class="ttname"><a href="classcorgi_1_1component__library_1_1_entity_factory.html#a7731c0b541623e004e9b74036a929ecc">corgi::component_library::EntityFactory::max_component_id</a></div><div class="ttdeci">corgi::ComponentId max_component_id()</div><div class="ttdoc">Get the maximum component ID. </div><div class="ttdef"><b>Definition:</b> entity_factory.h:230</div></div>
<div class="ttc" id="entity__manager_8h_html"><div class="ttname"><a href="entity__manager_8h.html">entity_manager.h</a></div></div>
<div class="ttc" id="group__corgi__entity_html_ga5f64e19a6613a18291d7e9d44c785293"><div class="ttname"><a href="group__corgi__entity.html#ga5f64e19a6613a18291d7e9d44c785293">corgi::ComponentId</a></div><div class="ttdeci">uint8_t ComponentId</div><div class="ttdoc">This represents the ID of a Component. </div><div class="ttdef"><b>Definition:</b> entity_common.h:47</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-49880327-7', 'google.github.io');
ga('send', 'pageview');
</script>
</body>
</html>
